/**
 * UFPel Theme Post SCSS - Additional Customizations
 * 
 * This file contains additional customizations that are applied after
 * the main preset, ensuring they have proper specificity.
 *
 * @package    theme_ufpel
 * @copyright  2025 Universidade Federal de Pelotas (UFPel)
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */

// Additional UFPel-specific component customizations.

// Activity icons customization for UFPel brand colors.
.activityiconcontainer {
    .activityicon {
        &.modicon_assign {
            background-color: var(--ufpel-primary);
        }
        
        &.modicon_quiz {
            background-color: var(--ufpel-accent);
        }
        
        &.modicon_forum {
            background-color: var(--ufpel-secondary);
        }
        
        &.modicon_resource,
        &.modicon_book,
        &.modicon_page {
            background-color: rgba(0, 64, 143, 0.8);
        }
    }
}

// Course format enhancements.
.course-content {
    .section {
        .section-header {
            border-left: 4px solid var(--ufpel-primary);
            padding-left: 1rem;
            background: rgba(0, 64, 143, 0.02);
            border-radius: 0.25rem;
        }
        
        .section-title {
            color: var(--ufpel-primary);
            font-weight: 600;
        }
    }
    
    // Activity completion styling.
    .completion-icon {
        &.completion-enabled {
            color: var(--ufpel-primary);
        }
        
        &.completion-complete {
            color: #28a745;
        }
    }
}

// Navigation drawer customizations.
#nav-drawer {
    .nav-link {
        &.active {
            background-color: rgba(0, 64, 143, 0.1);
            color: var(--ufpel-primary);
            border-right: 3px solid var(--ufpel-primary);
        }
        
        &:hover {
            background-color: rgba(0, 64, 143, 0.05);
        }
    }
}

// Breadcrumb customizations.
.breadcrumb {
    background-color: rgba(0, 128, 255, 0.05);
    border-radius: 0.5rem;
    padding: 0.75rem 1rem;
    
    .breadcrumb-item {
        &.active {
            color: var(--ufpel-primary);
            font-weight: 500;
        }
        
        a {
            color: rgba(0, 64, 143, 0.8);
            text-decoration: none;
            
            &:hover {
                color: var(--ufpel-primary);
                text-decoration: underline;
            }
        }
    }
}

// Button customizations with UFPel branding.
.btn {
    &.btn-primary {
        background: linear-gradient(135deg, var(--ufpel-primary), var(--ufpel-secondary));
        border: none;
        box-shadow: 0 2px 4px rgba(0, 64, 143, 0.2);
        
        &:hover,
        &:focus {
            background: linear-gradient(135deg, 
                darken(#00408F, 10%), 
                darken(#0080FF, 10%)
            );
            box-shadow: 0 4px 8px rgba(0, 64, 143, 0.3);
            transform: translateY(-1px);
        }
        
        &:active {
            transform: translateY(0);
        }
    }
    
    &.btn-secondary {
        background-color: var(--ufpel-background);
        border: 1px solid var(--ufpel-primary);
        color: var(--ufpel-primary);
        
        &:hover,
        &:focus {
            background-color: var(--ufpel-primary);
            color: var(--ufpel-text-highlight);
        }
    }
    
    &.btn-warning {
        background-color: var(--ufpel-accent);
        border: none;
        color: var(--ufpel-text);
        
        &:hover,
        &:focus {
            background-color: darken(#F7A600, 10%);
        }
    }
}

// Alert customizations.
.alert {
    border-radius: 0.5rem;
    border: none;
    
    &.alert-info {
        background: linear-gradient(135deg, 
            rgba(0, 128, 255, 0.1), 
            rgba(235, 245, 255, 0.8)
        );
        color: var(--ufpel-primary);
        border-left: 4px solid var(--ufpel-secondary);
    }
    
    &.alert-success {
        background: linear-gradient(135deg, 
            rgba(40, 167, 69, 0.1), 
            rgba(235, 245, 255, 0.8)
        );
        border-left: 4px solid #28a745;
    }
    
    &.alert-warning {
        background: linear-gradient(135deg, 
            rgba(247, 166, 0, 0.1), 
            rgba(255, 248, 235, 0.8)
        );
        color: darken(#F7A600, 20%);
        border-left: 4px solid var(--ufpel-accent);
    }
}

// Form control enhancements.
.form-control {
    border: 1px solid rgba(0, 64, 143, 0.2);
    border-radius: 0.375rem;
    
    &:focus {
        border-color: var(--ufpel-primary);
        box-shadow: 0 0 0 0.2rem rgba(0, 64, 143, 0.25);
    }
}

// Table customizations.
.table {
    &.table-striped {
        tbody tr:nth-of-type(odd) {
            background-color: rgba(235, 245, 255, 0.5);
        }
    }
    
    th {
        background-color: var(--ufpel-background);
        color: var(--ufpel-primary);
        font-weight: 600;
        border-bottom: 2px solid var(--ufpel-primary);
    }
}

// Modal customizations.
.modal {
    .modal-header {
        background: linear-gradient(135deg, 
            var(--ufpel-background), 
            rgba(0, 128, 255, 0.1)
        );
        color: var(--ufpel-primary);
        border-bottom: 1px solid rgba(0, 64, 143, 0.2);
    }
    
    .modal-title {
        font-weight: 600;
    }
}

// Progress bar customizations.
.progress {
    background-color: rgba(235, 245, 255, 0.8);
    border-radius: 0.5rem;
    
    .progress-bar {
        background: linear-gradient(135deg, var(--ufpel-primary), var(--ufpel-secondary));
    }
}

// Badge customizations.
.badge {
    &.badge-primary {
        background-color: var(--ufpel-primary);
    }
    
    &.badge-secondary {
        background-color: var(--ufpel-secondary);
    }
    
    &.badge-warning {
        background-color: var(--ufpel-accent);
        color: var(--ufpel-text);
    }
}

// Course category styling.
.course-categoryname {
    color: var(--ufpel-secondary);
    font-weight: 500;
}

// User profile enhancements.
.userprofile {
    .profile-user-card {
        border: 2px solid rgba(0, 64, 143, 0.1);
        border-radius: 1rem;
        background: linear-gradient(135deg, 
            rgba(235, 245, 255, 0.8), 
            rgba(255, 255, 255, 0.9)
        );
    }
}

// Dashboard customizations.
#page-my-index {
    .dashboard-card {
        border-radius: 1rem;
        box-shadow: 0 4px 6px rgba(0, 64, 143, 0.1);
        
        &:hover {
            box-shadow: 0 8px 15px rgba(0, 64, 143, 0.15);
        }
    }
}

// Calendar styling.
.calendar {
    .calendar-event {
        &.calendar-event-course {
            background-color: rgba(0, 64, 143, 0.8);
        }
        
        &.calendar-event-global {
            background-color: var(--ufpel-accent);
        }
        
        &.calendar-event-user {
            background-color: var(--ufpel-secondary);
        }
    }
}

// Messaging customizations.
.message {
    &.message-me {
        .message-bubble {
            background: linear-gradient(135deg, var(--ufpel-primary), var(--ufpel-secondary));
            color: var(--ufpel-text-highlight);
        }
    }
}

// Grade report styling.
.gradereport {
    .grade-item {
        &.grade-pass {
            background-color: rgba(40, 167, 69, 0.1);
        }
        
        &.grade-fail {
            background-color: rgba(220, 53, 69, 0.1);
        }
    }
}

// Loading spinner with UFPel branding.
.spinner-border {
    &.text-primary {
        color: var(--ufpel-primary) !important;
    }
}

// Accessibility enhancements.
.sr-only-focusable {
    &:focus,
    &:active {
        background-color: var(--ufpel-accent);
        color: var(--ufpel-text);
        padding: 0.5rem;
        border-radius: 0.25rem;
    }
}

// Print styles.
@media print {
    .course-header {
        background: white !important;
        color: black !important;
        
        &__background,
        &__overlay {
            display: none !important;
        }
    }
    
    .navbar,
    #nav-drawer,
    #page-footer {
        display: none !important;
    }
}

// High DPI screens optimization.
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .ufpel-brand__logo {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
    }
}