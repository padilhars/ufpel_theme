{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template theme_ufpel/navbar_brand

    UFPel Navbar Brand Template

    This template renders the UFPel branded navbar with logo and institution name.
    It provides responsive design and accessibility features.

    Context variables:
    * sitename - The site name
    * siteurl - The site URL
    * ufpel_logo_url - UFPel logo URL (optional)
    * ufpel_show_sitename - Show site name alongside logo (boolean)
    
    Example context (json):
    {
        "sitename": "UFPel Moodle",
        "siteurl": "https://moodle.ufpel.edu.br",
        "ufpel_logo_url": "https://example.com/ufpel-logo.png",
        "ufpel_show_sitename": true
    }
}}

<a class="navbar-brand d-flex align-items-center" 
   href="{{siteurl}}" 
   title="{{#str}}home, theme_ufpel{{/str}} - {{sitename}}"
   aria-label="{{#str}}gotohome, theme_ufpel{{/str}} {{sitename}}">
   
    {{! UFPel Logo }}
    {{#ufpel_logo_url}}
    <div class="ufpel-brand__logo-container me-3">
        <img src="{{ufpel_logo_url}}" 
             alt="{{#str}}ufpellogo, theme_ufpel{{/str}}"
             class="ufpel-brand__logo d-inline-block"
             width="50" 
             height="50"
             loading="eager"
             role="img">
    </div>
    {{/ufpel_logo_url}}
    
    {{! Fallback UFPel icon if no logo configured }}
    {{^ufpel_logo_url}}
    <div class="ufpel-brand__icon-container me-3 d-flex align-items-center justify-content-center"
         style="width: 50px; height: 50px; background: linear-gradient(135deg, var(--ufpel-primary), var(--ufpel-secondary)); border-radius: 8px;">
        <i class="fa fa-graduation-cap text-white" 
           aria-hidden="true" 
           style="font-size: 24px;"></i>
    </div>
    {{/ufpel_logo_url}}
    
    {{! Site name and UFPel branding }}
    {{#ufpel_show_sitename}}
    <div class="ufpel-brand__text-container d-none d-md-block">
        <div class="ufpel-brand__text">
            <div class="ufpel-brand__sitename fw-bold text-truncate" 
                 style="max-width: 200px; font-size: 1.1rem; line-height: 1.2;">
                {{sitename}}
            </div>
            <div class="ufpel-brand__institution text-muted" 
                 style="font-size: 0.75rem; line-height: 1;">
                {{#str}}ufpelfullname, theme_ufpel{{/str}}
            </div>
        </div>
    </div>
    {{/ufpel_show_sitename}}
    
    {{! Compact version for mobile }}
    <div class="ufpel-brand__mobile d-md-none">
        <span class="ufpel-brand__text fw-bold">
            {{#str}}ufpelshort, theme_ufpel{{/str}}
        </span>
    </div>
    
</a>

{{! Screen reader information }}
<span class="sr-only">
    {{#str}}navbarbrandinfo, theme_ufpel{{/str}} {{sitename}}
</span>

{{! Add hover effect styles }}
<style>
.navbar-brand {
    transition: transform 0.2s ease;
}

.navbar-brand:hover {
    transform: translateY(-1px);
}

.ufpel-brand__logo {
    transition: all 0.3s ease;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.navbar-brand:hover .ufpel-brand__logo {
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.15));
}

.ufpel-brand__icon-container {
    transition: all 0.3s ease;
    box-shadow: 0 2px 4px rgba(0, 64, 143, 0.2);
}

.navbar-brand:hover .ufpel-brand__icon-container {
    box-shadow: 0 4px 8px rgba(0, 64, 143, 0.3);
    transform: translateY(-1px);
}

.ufpel-brand__text {
    transition: color 0.2s ease;
}

.navbar-brand:hover .ufpel-brand__text {
    color: var(--ufpel-primary) !important;
}

/* Responsive adjustments */
@media (max-width: 576px) {
    .ufpel-brand__logo,
    .ufpel-brand__icon-container {
        width: 40px !important;
        height: 40px !important;
    }
    
    .ufpel-brand__icon-container i {
        font-size: 20px !important;
    }
    
    .ufpel-brand__mobile {
        font-size: 0.9rem;
    }
}

/* High contrast mode */
@media (prefers-contrast: high) {
    .ufpel-brand__logo {
        filter: contrast(1.2);
    }
    
    .ufpel-brand__icon-container {
        border: 2px solid var(--ufpel-primary);
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .navbar-brand,
    .ufpel-brand__logo,
    .ufpel-brand__icon-container,
    .ufpel-brand__text {
        transition: none !important;
    }
    
    .navbar-brand:hover {
        transform: none !important;
    }
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
    .ufpel-brand__institution {
        color: rgba(255, 255, 255, 0.7) !important;
    }
}

/* Print styles */
@media print {
    .navbar-brand {
        color: black !important;
    }
    
    .ufpel-brand__logo {
        filter: none !important;
    }
    
    .ufpel-brand__icon-container {
        background: white !important;
        border: 1px solid black !important;
    }
    
    .ufpel-brand__icon-container i {
        color: black !important;
    }
}
</style>